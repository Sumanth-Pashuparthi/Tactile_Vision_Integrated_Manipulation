<?xml version="1.0"?>
<robot xmlns:xacro="http://wiki.ros.org/xacro">

    <!-- XACRO-MACRO of PANDA ROBOT: -->
    <xacro:macro name="panda" params="prefix EE_no">
    
      <!-- Load PANDA ROBOT TRANSMISSION file: -->
      <xacro:include filename="$(find panda_ros2_gazebo)/urdf/panda_transmission.xacro" />
      <xacro:panda_transmission 
        prefix=""
      />
      
      <!-- Load PANDA ROBOT ROS2_CONTROL file: -->
      <xacro:include filename="$(find panda_ros2_gazebo)/urdf/panda_ros2control.xacro" />
      <xacro:panda_ros2control 
        prefix=""
        EE_no="${EE_no}"
      />

      <!-- ***** PANDA ROBOT .urdf SERIAL CHAIN ***** -->
      
      <!-- panda_link0 -->
      <link name="panda_link0">
        <inertial>
          <mass value="2.92"/>
          <origin rpy="0 0 0" xyz="-0.025566 -2.88e-05 0.057332"/>
          <inertia ixx="0.00782229414331" ixy="-1.56191622996e-05" ixz="-0.00126005738123" iyy="0.0109027971813" iyz="1.08233858202e-05" izz="0.0102355503949"/>
        </inertial>
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/link0.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/link0.stl"/>
          </geometry>
        </collision>
      </link>

      <!-- panda_link1 -->
      <link name="panda_link1">
        <inertial>
          <mass value="2.74"/>
          <origin rpy="0 0 0" xyz="0 -0.0324958 -0.0675818"/>
          <inertia ixx="0.0180416958283" ixy="0.0" ixz="0.0" iyy="0.0159136071891" iyz="0.0046758424612" izz="0.00620690827127"/>
        </inertial>
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/link1.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/link1.stl"/>
          </geometry>
        </collision>
      </link>
      <!-- panda_joint1 -->
      <joint name="panda_joint1" type="revolute">
        <origin rpy="0 0 0" xyz="0 0 0.333"/>
        <parent link="panda_link0"/>
        <child link="panda_link1"/>
        <axis xyz="0 0 1"/>
        <limit effort="87" lower="-2.8973" upper="2.8973" velocity="2.1750"/>
        <dynamics damping="50.0" friction="1.0"/>
      </joint>

      <!-- panda_link2 -->
      <link name="panda_link2">
        <inertial>
          <mass value="2.74"/>
          <origin rpy="0 0 0" xyz="0 -0.06861 0.0322285"/>
          <inertia ixx="0.0182856182281" ixy="0.0" ixz="0.0" iyy="0.00621358421175" iyz="-0.00472844221905" izz="0.0161514346309"/>
        </inertial>
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/link2.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/link2.stl"/>
          </geometry>
        </collision>
      </link>
      <!-- panda_joint2 -->
      <joint name="panda_joint2" type="revolute">
        <origin rpy="-1.57079632679 0 0" xyz="0 0 0"/>
        <parent link="panda_link1"/>
        <child link="panda_link2"/>
        <axis xyz="0 0 1"/>
        <limit effort="87" lower="-1.7628" upper="1.7628" velocity="2.1750"/>
        <dynamics damping="50.0" friction="1.0"/>
      </joint>

      <!-- panda_link3 -->
      <link name="panda_link3">
        <inertial>
          <mass value="2.38"/>
          <origin rpy="0 0 0" xyz="0.0469893 0.0316374 -0.031704"/>
          <inertia ixx="0.00771376630908" ixy="-0.00248490625138" ixz="-0.00332147581033" iyy="0.00989108008727" iyz="-0.00217796151484" izz="0.00811723558464"/>
        </inertial>
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/link3.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/link3.stl"/>
          </geometry>
        </collision>
      </link>
      <!-- panda_joint3 -->
      <joint name="panda_joint3" type="revolute">
        <origin rpy="1.57079632679 0 0" xyz="0 -0.316 0"/>
        <parent link="panda_link2"/>
        <child link="panda_link3"/>
        <axis xyz="0 0 1"/>
        <limit effort="87" lower="-2.8973" upper="2.8973" velocity="2.1750"/>
        <dynamics damping="10.0" friction="1.0"/>
      </joint>

      <!-- panda_link4-->
      <link name="panda_link4">
        <inertial>
          <mass value="2.38"/>
          <origin rpy="0 0 0" xyz="-0.0360446 0.0336853 0.031882"/>
          <inertia ixx="0.00799663881132" ixy="0.00347095570217" ixz="-0.00241222942995" iyy="0.00825390705278" iyz="0.00235774044121" izz="0.0102515004345"/>
        </inertial>
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/link4.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/link4.stl"/>
          </geometry>
        </collision>
      </link>
      <!-- panda_joint4 -->
      <joint name="panda_joint4" type="revolute">
        <origin rpy="1.57079632679 0 0" xyz="0.0825 0 0"/>
        <parent link="panda_link3"/>
        <child link="panda_link4"/>
        <axis xyz="0 0 1"/>
        <limit effort="87" lower="-3.0718" upper="0.0698" velocity="2.1750"/>
        <!-- upper should be -0.0698, but that brakes simulation when initial position for this joint is 0.0 -->
        <dynamics damping="10.0" friction="1.0"/>
      </joint>

      <!-- panda_link5 -->
      <link name="panda_link5">
        <inertial>
          <mass value="2.74"/>
          <origin rpy="0 0 0" xyz="0 0.0610427 -0.104176"/>
          <inertia ixx="0.030371374513" ixy="6.50283587108e-07" ixz="-1.05129179916e-05" iyy="0.0288752887402" iyz="-0.00775653445787" izz="0.00444134056164"/>
        </inertial>
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/link5.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/link5.stl"/>
          </geometry>
        </collision>
      </link>
      <!-- panda_joint5 -->
      <joint name="panda_joint5" type="revolute">
        <origin rpy="-1.57079632679 0 0" xyz="-0.0825 0.384 0"/>
        <parent link="panda_link4"/>
        <child link="panda_link5"/>
        <axis xyz="0 0 1"/>
        <limit effort="12" lower="-2.8973" upper="2.8973" velocity="2.6100"/>
        <dynamics damping="5.0" friction="1.0"/>
      </joint>

      <!-- panda_link6 -->
      <link name="panda_link6">
        <inertial>
          <mass value="1.55"/>
          <origin rpy="0 0 0" xyz="0.0510509 0.009108 0.0106343"/>
          <inertia ixx="0.00303336450376" ixy="-0.000437276865508" ixz="0.000629257294877" iyy="0.00404479911567" iyz="0.000130472021025" izz="0.00558234286039"/>
        </inertial>
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/link6.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/link6.stl"/>
          </geometry>
        </collision>
      </link>
      <!-- panda_joint6 -->
      <joint name="panda_joint6" type="revolute">
        <origin rpy="1.57079632679 -1.57079632679 0" xyz="0 0 0"/> <!-- rpy="1.57079632679 0 0" -->
        <parent link="panda_link5"/>
        <child link="panda_link6"/>
        <axis xyz="0 0 1"/>
        <limit effort="12" lower="-0.0175" upper="3.7525" velocity="2.6100"/>
        <dynamics damping="5.0" friction="1.0"/>
      </joint>

      <!-- panda_link7 -->
      <link name="panda_link7">
        <inertial>
          <mass value="0.54"/>
          <origin rpy="0 0 0" xyz="0.0109695 0.0107965 0.0650411"/>
          <inertia ixx="0.000888868887021" ixy="-0.00012239074652" ixz="3.98699829666e-05" iyy="0.000888001373233" iyz="-9.33825115206e-05" izz="0.0007176834609"/>
        </inertial>
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/link7.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/link7.stl"/>
          </geometry>
        </collision>
      </link>
      <!-- panda_joint7 -->
      <joint name="panda_joint7" type="revolute">
        <origin rpy="1.57079632679 -0.7854 0" xyz="0.088 0 0"/> <!-- rpy="1.57079632679 0 0" -->
        <parent link="panda_link6"/>
        <child link="panda_link7"/>
        <axis xyz="0 0 1"/>
        <limit effort="12" lower="-3.15" upper="3.15" velocity="2.6100"/>
        <dynamics damping="1.0" friction="1.0"/>
      </joint>

      <!-- panda_link8 -->
      <link name="panda_link8"/>
      <!-- panda_joint8 -->
      <joint name="panda_joint8" type="fixed">
        <origin rpy="0 0 0" xyz="0 0 0.107"/>
        <parent link="panda_link7"/>
        <child link="panda_link8"/>
        <axis xyz="0 0 0"/>
      </joint>

      <!-- panda_hand -->
      <joint name="panda_hand_joint" type="fixed">
        <parent link="panda_link8"/>
        <child link="panda_hand"/>
        <origin rpy="0 0 -0.785398163397" xyz="0 0 0"/>
      </joint>
      <link name="panda_hand">
        <inertial>
          <mass value="0.73"/>
          <origin rpy="0 0 0" xyz="0 0.0015244 0.0275912"/>
          <inertia ixx="0.00278560230025" ixy="0.0" ixz="0.0" iyy="0.000400033405336" iyz="0.0" izz="0.00256378041832"/>
        </inertial>
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/hand.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/hand.stl"/>
          </geometry>
        </collision>
      </link>

      <!-- panda_leftfinger -->

      <link name="panda_leftfinger">
        <inertial>
          <mass value="0.1"/>
          <origin rpy="0 0 0" xyz="0 0.0145644 0.0227941"/>
          <inertia ixx="3.01220925051e-05" ixy="0.0" ixz="0.0" iyy="2.95873808038e-05" iyz="0.0" izz="6.95125211657e-06"/>
        </inertial>
        <visual>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/finger.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/finger.stl"/>
          </geometry>
        </collision>
      </link>
      <joint name="panda_finger_joint1" type="prismatic">
        <parent link="panda_hand"/>
        <child link="panda_leftfinger"/>
        <origin rpy="0 0 0" xyz="0 0 0.0584"/>
        <axis xyz="0 1 0"/>
        <limit effort="20" lower="-0.001" upper="0.04" velocity="0.3"/>
        <dynamics damping="1.0" friction="5.0"/>
      </joint>

      <link name ="cover_plate">
        <inertial>
          <mass value="0.1"/>
          <origin xyz="0 0 0" rpy="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
              <box size="0.085 0.085 0.001"/>
          </geometry>
          <material name="gray">
            <color rgba="0.3 0.3 0.3 1"/>
          </material>

        </visual>

        <collision>
          <geometry>
              <box size="0.085 0.085 0.001"/>
          </geometry>
        </collision>
      </link>


      <gazebo reference="cover_plate">
        <surface>
          <contact>
            <ode>
              <soft_cfm>0.001</soft_cfm>
              <soft_erp>0.2</soft_erp>
              <kp>1000.0</kp>
              <kd>100.0</kd>
              <min_depth>0.001</min_depth>
            </ode>
          </contact>
          <friction>
            <ode>
                <mu>1.0</mu>
                <mu2>1.0</mu2>
            </ode>
          </friction>
        </surface>
      </gazebo>

      <joint name="sensor_joint" type="fixed">
          <parent link="panda_leftfinger"/>   <!--change to finger -->
          <child link="cover_plate"/>
          <origin xyz="0 0 0.05" rpy="0 0 0"/> <!-- Keeping a small offset from finger -->
      </joint>

      <gazebo reference="sensor_joint">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>


      <!-- adding sensor-->

      <!-- Sensor 01-->

  <!-- Sensor Link -->
      <link name="sensor_link_00">
          <inertial>
              <mass value="0.1"/>
              <origin rpy="0 0 0" xyz="0 0 0"/>
              <inertia ixx="0.000001" ixy="0.0" ixz="0.0"
                      iyy="0.000001" iyz="0.0"
                      izz="0.000001"/>
          </inertial>
          <visual>
              <geometry>
                  <box size="0.019 0.019 0.005"/>
              </geometry>
              <material name="sensor_material">
                  <color rgba="0.2 0.2 0.8 0.9"/>
              </material>
          </visual>
          <collision>
              <geometry>
                  <box size="0.019 0.019 0.005"/>
              </geometry>
          </collision>
      </link>

      <!-- Sensor Joint -->
      <joint name="sensor_joint_00" type="fixed">
          <parent link="cover_plate"/>
          <child link="sensor_link_00"/>
          <origin xyz="-0.031 0.031 0.0025" rpy="0 0 0"/>
      </joint>

      <gazebo reference="sensor_joint_00">
        <provideFeedback>true</provideFeedback>
      </gazebo>

      <gazebo>
        <plugin name="gazebo_ros_force_torque_sensor" filename="libgazebo_ros_ft_sensor.so">
          <ros>
            <namespace>ft_sensors</namespace>
            <remapping>wrench:=sensor_joint_00</remapping>
          </ros>
          <joint_name>sensor_joint_00</joint_name>
          <body_name>cover_plate</body_name>
          <frame_name>sensor_link_00</frame_name>
          <gaussian_noise>0.01</gaussian_noise>
          <update_rate>50</update_rate>
        </plugin>
      </gazebo>

      <!-- Gazebo Sensor Configuration
      <gazebo reference="sensor_link_00">
          <sensor type="force_torque" name="ft_sensor_00">
              <always_on>true</always_on>
              <update_rate>50</update_rate>
              <force_torque>
                  <frame>child</frame>
                  <measure_direction>child_to_parent</measure_direction>
              </force_torque>
              <plugin name="ft_sensor_00_plugin" filename="libgazebo_ros_ft_sensor.so">
                  <ros>
                      <namespace>/panda</namespace>
                      <remapping>~/wrench:=/panda/ft_sensor_00</remapping>
                  </ros>
                  <frame_name>sensor_link_00</frame_name>
                  <gaussian_noise>0.01</gaussian_noise>
              </plugin>
          </sensor>
          <material>Gazebo/Blue</material>
          <surface>
              <contact>
                  <ode>
                      <soft_cfm>0.001</soft_cfm>
                      <soft_erp>0.2</soft_erp>
                      <kp>1000.0</kp>
                      <kd>100.0</kd>
                  </ode>
              </contact>
          </surface>
      </gazebo> -->


    <!-- Sensor 02 -->
      <!-- <link name ="sensor_link_01">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> 
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_01">
        <surface>
          <contact>
            <ode>
              <soft_cfm>0.001</soft_cfm>
              <soft_erp>0.2</soft_erp>
              <kp>1000.0</kp>
              <kd>100.0</kd>
            </ode>
          </contact>
        </surface>

        <sensor type="force_torque" name="force_torque_01">
          <always_on>1</always_on>
          <update_rate>50</update_rate>
          <force_torque>
              <frame>child</frame>
              <measure_direction>child_to_parent</measure_direction>
          </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  
                  <namespace>/panda</namespace>
                
                  <remapping>~/wrench:=sensors/force_torque_01</remapping>
              </ros>
              <frame_name>sensor_link_01</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
        
      </sensor>
      </gazebo>

      <joint name="sensor_joint_01" type="fixed">
          <parent link="cover_plate"/>   
          <child link="sensor_link_01"/>
          <origin xyz="-0.010 0.031 0.0025" rpy="0 0 0"/> 
      </joint>

      <gazebo reference="sensor_joint_01">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 03
      
      <link name ="sensor_link_02">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_02">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_02">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_02</remapping>
              </ros>
              <frame_name>sensor_link_02</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_02" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_02"/>
          <origin xyz="0.010 0.031 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_02">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 04

      <link name ="sensor_link_03">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_03">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_03">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_03</remapping>
              </ros>
              <frame_name>sensor_link_03</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_03" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_03"/>
          <origin xyz="0.031 0.031 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_03">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 05

      <link name ="sensor_link_10">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_10">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_10">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_10</remapping>
              </ros>
              <frame_name>sensor_link_10</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_10" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_10"/>
          <origin xyz="-0.031 0.010 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_10">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>


  Sensor 06

      <link name ="sensor_link_11">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_11">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_11">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_11</remapping>
              </ros>
              <frame_name>sensor_link_11</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_11" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_11"/>
          <origin xyz="-0.010 0.010 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_11">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 07

      <link name ="sensor_link_12">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_12">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_12">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_12</remapping>
              </ros>
              <frame_name>sensor_link_12</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_12" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_12"/>
          <origin xyz="0.010 0.010 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_12">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 08

      <link name ="sensor_link_13">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_13">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_13">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_13</remapping>
              </ros>
              <frame_name>sensor_link_13</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_13" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_13"/>
          <origin xyz="0.031 0.010 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_13">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 09

      <link name ="sensor_link_20">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_20">
        
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_20">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_20</remapping>
              </ros>
              <frame_name>sensor_link_20</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_20" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_20"/>
          <origin xyz="-0.031 -0.010 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_20">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 10

      <link name ="sensor_link_21">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_21">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_21">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_21</remapping>
              </ros>
              <frame_name>sensor_link_21</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_21" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_21"/>
          <origin xyz="-0.010 -0.010 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_21">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 11

      <link name ="sensor_link_22">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_22">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_22">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_22</remapping>
              </ros>
              <frame_name>sensor_link_22</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_22" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_22"/>
          <origin xyz="0.010 -0.010 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_22">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 12

      <link name ="sensor_link_23">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_23">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_23">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_23</remapping>
              </ros>
              <frame_name>sensor_link_23</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_23" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_23"/>
          <origin xyz="0.031 -0.010 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_23">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 13

      <link name ="sensor_link_30">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_30">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_30">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_30</remapping>
              </ros>
              <frame_name>sensor_link_30</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          </sensor>
          
      </gazebo>

      <joint name="sensor_joint_30" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_30"/>
          <origin xyz="-0.031 -0.031 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_30">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 14

      <link name ="sensor_link_31">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_31">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_31">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_31</remapping>
              </ros>
              <frame_name>sensor_link_31</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_31" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_31"/>
          <origin xyz="-0.010 -0.031 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_31">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 15

      <link name ="sensor_link_32">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>
        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_32">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_32">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_32</remapping>
              </ros>
              <frame_name>sensor_link_32</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_32" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_32"/>
          <origin xyz="0.010 -0.031 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_32">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo>

  Sensor 16

      <link name ="sensor_link_33">
        <inertial>
          <mass value="0.2"/>
          <origin rpy="0 0 0" xyz="0 0 0"/>
          <inertia ixx="0.000001" ixy="0.0" ixz="0.0" 
                  iyy="0.000001" iyz="0.0" 
                  izz="0.000001"/>
        </inertial>

        <visual>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
          <material name="blue">
            <color rgba="0.1 0.1 0.8 1"/> Blue color
          </material>

        </visual>

        <collision>
          <geometry>
            <box size="0.019 0.019 0.005"/>
          </geometry>
        </collision>

      </link>

      <gazebo reference="sensor_link_33">
          
          <surface>
            <contact>
              <ode>
                <soft_cfm>0.001</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1000.0</kp>
                <kd>100.0</kd>
              </ode>
            </contact>
          </surface>

          <sensor type="force_torque" name="force_torque_33">
            <always_on>1</always_on>
            <update_rate>50</update_rate>
            <force_torque>
                <frame>child</frame>
                <measure_direction>child_to_parent</measure_direction>
            </force_torque>
            <plugin filename="libgazebo_ros_force_torque_sensor.so" name="force_torque_plugin">
              <ros>
                  Add namespace
                  <namespace>/panda</namespace>
                  Update topic name
                  <remapping>~/wrench:=sensors/force_torque_33</remapping>
              </ros>
              <frame_name>sensor_link_33</frame_name>
              <gaussian_noise>0.1</gaussian_noise>
              
            </plugin>
          
          </sensor>
      </gazebo>

      <joint name="sensor_joint_33" type="fixed">
          <parent link="cover_plate"/>   change to finger
          <child link="sensor_link_33"/>
          <origin xyz="0.031 -0.031 0.0025" rpy="0 0 0"/> Adjust if needed
      </joint>

      <gazebo reference="sensor_joint_33">
        <physics>
          <ode>
              <damping>0.1</damping>
              <stiffness>1000</stiffness>
          </ode>
        </physics>
      </gazebo> -->






      <!-- panda_rightfinger -->
      <link name="panda_rightfinger">
        <inertial>
          <mass value="0.1"/>
          <origin rpy="0 0 3.14159265359" xyz="0 0.0145644 0.0227941"/>
          <inertia ixx="3.01220925051e-05" ixy="0.0" ixz="0.0" iyy="2.95873808038e-05" iyz="0.0" izz="6.95125211657e-06"/>
        </inertial>
        <visual>
          <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/visual/finger.dae"/>
          </geometry>
          <material name="">
            <color rgba="1 1 1 1"/>
          </material>
        </visual>
        <collision>
          <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
          <geometry>
            <mesh filename="file://$(find panda_ros2_gazebo)/meshes/collision/finger.stl"/>
          </geometry>
        </collision>
      </link>
  
      <joint name="panda_finger_joint2" type="prismatic">
        <parent link="panda_hand"/>
        <child link="panda_rightfinger"/>
        <origin rpy="0 0 0" xyz="0 0 0.0584"/>
        <axis xyz="0 -1 0"/>
        <limit effort="20" lower="-0.001" upper="0.04" velocity="0.3"/>
        <dynamics damping="1.0" friction="5.0"/>
      </joint>

      <!-- End-Effector frame -->
      <link name="end_effector_frame">
        <inertial>
          <!-- Dummy inertial parameters to avoid link lumping-->
          <mass value="0.01"/>
          <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>
        </inertial>
      </link>
      <joint name="end_effector_frame_fixed_joint" type="fixed">
        <origin rpy="3.14159 -1.57079 -0.785398163397" xyz="0 0 0.21"/>
        <parent link="panda_link7"/>
        <child link="end_effector_frame"/>
      </joint>
      
    </xacro:macro>
  </robot>
